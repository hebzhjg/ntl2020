# 新Java技术学习笔记



在线绘图工具

https://www.draw.io/



开发工具

IDEA



##	第二章

###	1、分布式服务架构的演进

高可用，LVS+keepalive

####	1.1、单体应用

+ 开发速度慢
+ 启动时间长
+ 依赖庞大
+ 等等



#### 1.2、微服务

+ 易开发、理解和维护（哪里需要，修改，改哪里）
+ 独立的部署和启动
+ 不足
  + 分布式系统-->分布式事务问题（如，用户下单，积分，在不同的服务里，需要同步）
  + 需要管理多个服务（部署复杂，管理和维护，成本较高）
  + 服务治理（哪里服务down了，需要查找解决）



###		2、微服务核心基础

核心知识：网关、服务发现注册、配置中心、链路追踪、负载均衡器、熔断

####	2.1、网关：路由转发+过滤器

- /api/v1/pruduct/detial?		商品

- /api/v1/order			订单

- /api/v1/user			用户 

  通过url的规则，进行路由转发（给不同的服务集群）

  过滤器作用，对请求进行验证（登录状态）



#### 2.2、服务注册发现



####	2.3、配置中心

每个应用都有一个配置文件

统一管理各个服务的配置

有一个web管理后台



#### 2.3、链路追踪

当发现整个系统的效率不高时，用来查找和最终那个服务慢了

 分析调用的耗时，进行优化



####	2.5、负载均衡器

分发负载



####	2.6、熔断

在系统的流量高峰时如，双11时，集中下单（KPS），要进行保护

如某个服务down后（慢、调不同），不再调用（熔断）



### 常见的微服务框架

consumer：调用方

provider：提供方（被调用）

####	3.1、dubbo

zookeeprt+dubbo+springmvc/springboot

通讯：rpc

注册：zookeeper/redis

配置：diamond



####	3.2、springclound

全家桶+轻松嵌入第三方组件（Netflix奈飞）

通讯：http、restful

注册：eruka、consul

配置：config

断路器：hystrix

网关：zuul

追踪：sleuth+zipkin

 

###	4、微服务电商模块设计

用户服务

	+	用户信息接口
	+	登录接口

商品服务

- 商品服务
- 商品详情

订单服务

+ 我的订单
+ 下单接口



##	第三章 

微服务的注册中心

服务的管理、注册列表、心跳









